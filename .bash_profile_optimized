#!/bin/bash
# Optimized Bash Profile - Created by Development Environment Audit

# ============================================
# GOOGLE CLOUD SDK
# ============================================
if [ -f '/Users/stuartgano/google-cloud-sdk/path.bash.inc' ]; then 
    . '/Users/stuartgano/google-cloud-sdk/path.bash.inc'
fi

if [ -f '/Users/stuartgano/google-cloud-sdk/completion.bash.inc' ]; then 
    . '/Users/stuartgano/google-cloud-sdk/completion.bash.inc'
fi

# ============================================
# HOMEBREW (Apple Silicon)
# ============================================
eval "$(/opt/homebrew/bin/brew shellenv)"

# ============================================
# PYTHON ENVIRONMENT
# ============================================
# Note: Choose either Anaconda OR Homebrew Python, not both

# Option 1: ANACONDA (Currently Active - Recommended)
# >>> conda initialize >>>
__conda_setup="$('/opt/anaconda3/bin/conda' 'shell.bash' 'hook' 2> /dev/null)"
if [ $? -eq 0 ]; then
    eval "$__conda_setup"
else
    if [ -f "/opt/anaconda3/etc/profile.d/conda.sh" ]; then
        . "/opt/anaconda3/etc/profile.d/conda.sh"
    else
        export PATH="/opt/anaconda3/bin:$PATH"
    fi
fi
unset __conda_setup
# <<< conda initialize <<<

# Option 2: HOMEBREW PYTHON 3.13 (Commented out - conflicts with Anaconda)
# Uncomment if you prefer Homebrew Python over Anaconda
# export PATH="/opt/homebrew/opt/python@3.13/libexec/bin:$PATH"

# ============================================
# TCL/TK SUPPORT (for Python tkinter)
# ============================================
export PATH="/usr/local/opt/tcl-tk/bin:$PATH"
export LDFLAGS="-L/usr/local/opt/tcl-tk/lib"
export CPPFLAGS="-I/usr/local/opt/tcl-tk/include"
export PKG_CONFIG_PATH="/usr/local/opt/tcl-tk/lib/pkgconfig"

# ============================================
# RUST/CARGO
# ============================================
. "$HOME/.cargo/env"

# ============================================
# LOCAL BINARIES
# ============================================
if [ -f "$HOME/.local/bin/env" ]; then
    . "$HOME/.local/bin/env"
fi

# ============================================
# CUSTOM ALIASES
# ============================================
if [ -f ~/.adk_aliases ]; then
    source ~/.adk_aliases
fi

# ============================================
# NPM GLOBAL PACKAGES
# ============================================
export PATH="$HOME/.npm-global/bin:$PATH"

# ============================================
# DEVELOPMENT TOOL CHECKS
# ============================================
# Uncomment to see warnings about missing tools on login
# command -v docker >/dev/null 2>&1 || echo "Warning: Docker not found in PATH"
# command -v kubectl >/dev/null 2>&1 || echo "Warning: kubectl not found in PATH"
# command -v aws >/dev/null 2>&1 || echo "Warning: AWS CLI not found in PATH"